{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useHistory } from \"react-router-dom\";\nexport const useApi = () => {\n  _s();\n\n  const history = useHistory();\n\n  const uploadCard = async cardInfo => {\n    const result = fetch(\"https://reacting-d4273-default-rtdb.firebaseio.com/cards.json\", {\n      method: \"POST\",\n      body: JSON.stringify(cardInfo),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(() => {\n      history.replace(\"/axolotl\");\n    });\n    return result;\n  };\n\n  const getCards = async () => {\n    const preview = fetch(\"https://reacting-d4273-default-rtdb.firebaseio.com/cards.json\").then(response => {\n      return response.json();\n    }).then(data => {\n      return data;\n    });\n    const result = [];\n\n    for (const key in preview) {\n      const card = {\n        id: key,\n        ...preview[key]\n      };\n      result.push(card);\n    }\n\n    console.log(\"result\", result);\n    return result;\n  };\n\n  return {\n    uploadCard,\n    getCards\n  };\n};\n\n_s(useApi, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});","map":{"version":3,"sources":["/home/timothy/WebstormProjects/07-new-starting-project/src/components/api/firebaseService.js"],"names":["useHistory","useApi","history","uploadCard","cardInfo","result","fetch","method","body","JSON","stringify","headers","then","replace","getCards","preview","response","json","data","key","card","id","push","console","log"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,kBAA3B;AAEA,OAAO,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAC1B,QAAMC,OAAO,GAAGF,UAAU,EAA1B;;AACA,QAAMG,UAAU,GAAG,MAAOC,QAAP,IAAoB;AACrC,UAAMC,MAAM,GAAGC,KAAK,CAClB,+DADkB,EAElB;AACEC,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,QAAf,CAFR;AAGEO,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHX,KAFkB,CAAL,CASbC,IATa,CASR,MAAM;AACXV,MAAAA,OAAO,CAACW,OAAR,CAAgB,UAAhB;AACD,KAXc,CAAf;AAYA,WAAOR,MAAP;AACD,GAdD;;AAgBA,QAAMS,QAAQ,GAAG,YAAY;AAC3B,UAAMC,OAAO,GAAGT,KAAK,CACnB,+DADmB,CAAL,CAGbM,IAHa,CAGPI,QAAD,IAAc;AAClB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KALa,EAMbL,IANa,CAMPM,IAAD,IAAU;AACd,aAAOA,IAAP;AACD,KARa,CAAhB;AASA,UAAMb,MAAM,GAAG,EAAf;;AAEA,SAAK,MAAMc,GAAX,IAAkBJ,OAAlB,EAA2B;AACzB,YAAMK,IAAI,GAAG;AACXC,QAAAA,EAAE,EAAEF,GADO;AAEX,WAAGJ,OAAO,CAACI,GAAD;AAFC,OAAb;AAKAd,MAAAA,MAAM,CAACiB,IAAP,CAAYF,IAAZ;AACD;;AAEDG,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBnB,MAAtB;AACA,WAAOA,MAAP;AACD,GAvBD;;AAyBA,SAAO;AAAEF,IAAAA,UAAF;AAAcW,IAAAA;AAAd,GAAP;AACD,CA5CM;;GAAMb,M;UACKD,U","sourcesContent":["import { useHistory } from \"react-router-dom\";\n\nexport const useApi = () => {\n  const history = useHistory();\n  const uploadCard = async (cardInfo) => {\n    const result = fetch(\n      \"https://reacting-d4273-default-rtdb.firebaseio.com/cards.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(cardInfo),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    ).then(() => {\n      history.replace(\"/axolotl\");\n    });\n    return result;\n  };\n\n  const getCards = async () => {\n    const preview = fetch(\n      \"https://reacting-d4273-default-rtdb.firebaseio.com/cards.json\"\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        return data;\n      });\n    const result = [];\n\n    for (const key in preview) {\n      const card = {\n        id: key,\n        ...preview[key],\n      };\n\n      result.push(card);\n    }\n\n    console.log(\"result\", result);\n    return result;\n  };\n\n  return { uploadCard, getCards };\n};\n"]},"metadata":{},"sourceType":"module"}